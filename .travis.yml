language: c
compiler:
  - gcc
  - clang

before_install: ./.travis/prepare.sh

env:
  - OPTS="--disable-ssl"
  - TESTSUITE=1 KERNEL=1 OPTS="--with-linux=./linux-3.16.2"
  - KERNEL=1 DPDK=1 OPTS="--with-dpdk=./dpdk-1.7.1/build"
  - TESTSUITE=1 OPTS="--enable-shared"
  - DPDK=1 OPTS="--enable-shared"

script: ./.travis/build.sh $OPTS

notifications:
  email:
    recipients:
      - secure: KvLIamml/jrttYgh1B671IPac8T+xSnwkq4jXgSXk/SIVTIIL7BoXht/EGxh1SB6RjFSv4c/gIxGMUuk66Ekh/IzzDemNbkd2gA64svWKfcZD2Pbm0gFDSBkEBpT9hh3clI6reSfF6YVFLOU7DO7//JOmfMYrsefxGaXErmCrUs=
